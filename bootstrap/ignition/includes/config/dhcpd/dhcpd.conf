option space pxelinux;
option pxelinux.configfile code 209 = text;
option pxelinux.pathprefix code 210 = text;
option pxelinux.reboottime code 211 = unsigned integer 32;
site-option-space "pxelinux";
if exists dhcp-parameter-request-list {
  # Always send the PXELINUX options (specified in hexadecimal)
  option dhcp-parameter-request-list = concat(option dhcp-parameter-request-list,d1,d2,d3);
}
authoritative;
default-lease-time 300;
max-lease-time 300;
option domain-name-servers 8.8.8.8, 8.8.4.4;
option subnet-mask 255.255.255.0;
option routers 172.16.0.1;
subnet 172.16.0.0 netmask 255.255.255.0 {
  range 172.16.0.100 172.16.0.254;
}

# NB we reuse the VirtualBox MAC 08:00:27 (Cadmus Computer Systems) vendor.
#    see https://www.wireshark.org/tools/oui-lookup.html

host debian-live {
  hardware ethernet 08:00:27:00:00:01;
  fixed-address $network_address_prefix.101;
  option pxelinux.pathprefix "http://$network_address_prefix.2/debian-live/";
  filename "debian-live/lpxelinux.0";
}

host linuxkit {
  hardware ethernet 08:00:27:00:00:02;
  fixed-address $network_address_prefix.102;
  option pxelinux.pathprefix "http://$network_address_prefix.2/linuxkit/";
  filename "linuxkit/lpxelinux.0";
}

host tcl {
  hardware ethernet 08:00:27:00:00:03;
  fixed-address $network_address_prefix.103;
  option pxelinux.pathprefix "http://$network_address_prefix.2/tcl/";
  filename "tcl/lpxelinux.0";
}

host winpe {
  hardware ethernet 08:00:27:00:00:04;
  fixed-address $network_address_prefix.104;
  filename "ipxe/undionly.kpxe";
}

# This host is my physical HP EliteDesk 800 35W G2 Desktop Mini.
# https://support.hp.com/us-en/product/hp-elitedesk-800-35w-g2-desktop-mini-pc/7633266
# http://10.10.10.222:16992
# NB this machine has an UEFI firmware and as such we have to send it an efi
#    application.
# NB this machine UEFI firmware does not seem to support UEFI HTTP Boot as
#    described at https://ipxe.org/appnote/uefihttp, so we have to use the
#    traditional TFTP to download ipxe.
host g2-mini {
  hardware ethernet ec:b1:d7:71:ff:f3;
  fixed-address $network_address_prefix.222;
  filename "ipxe/ipxe.efi";
}

